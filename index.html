<!DOCTYPE html>
<html lang="ar" >
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <title> متجر إليكتروني </title>
  <script src="https://cdn.polyfill.io/v3/polyfill.min.js?features=default,es6,IntersectionObserver,requestAnimationFrame"></script>
  <link rel="stylesheet" href="theme.css">

  <script>
    (function(){
      const html = document.documentElement;
      const saved = localStorage.getItem('theme') || 'night';
      html.classList.add(`theme-${saved}`);
      html.style.visibility = 'visible';
    })();
  </script>

  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="screen.css">
</head>

<body>
  <div id="loading-spinner" class="spinner"></div>

  <header id="navsec">
    <nav id="nav">
     <div id="nav-btn">
        <button id="toggle-home-btn" class="nav-btn__item">
          <i class="fas fa-home"></i>
          <span id="home-label" data-i18n="home">الرئيسية </span>
        </button>
        <button id="toggle-projects-btn" class="nav-btn__item"  aria-label="Show Projects">
          <i class="fas fa-store"></i>
          <span id="projects-label" data-i18n="prjct">المتجر</span>
        </button>
        <button id="language-toggle" class="nav-btn__item" aria-label="Toggle Language">
          <i class="fas fa-language"></i>
          <span id="language-label" data-i18n="ar">ar</span>
        </button>
        <button id="theme-toggle" class="nav-btn__item" aria-label="Toggle Mode">
          <i class="fas fa-moon"></i>
          <span id="theme-label" data-i18n="theme">الثيم</span>
        </button>
      </div>
    </nav>
  </header>

  <section id="welcomeSection" class="main-section">
    <div class="welcome-text" id="typing-container">
    </div>
  </section>

  <section id="promosection" class="promo-section main-section">
    <div class="promo-card" id="promoCard">
      <h2 id="promoTitle"></h2>
      <div class="discount-badge">
        <span data-i18n="dis">خصم</span>
        <span id="promoDiscount"></span>
        <span data-i18n="dissign">%</span>
      </div>

      <div class="offer-countdown">
        <div class="time-block">
          <div class="time-item">
            <span id="days">00</span>
            <span class="time-label" data-i18n="days">يوم</span>
          </div>
          <span class="separator">:</span>
          <div class="time-item">
            <span id="hours">00</span>
            <span class="time-label" data-i18n="hours">ساعه</span>
          </div>
          <span class="separator">:</span>
          <div class="time-item">
            <span id="minutes">00</span>
            <span class="time-label" data-i18n="minutes">دقيقه</span>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <section id="botsection" class="bot-sec main-section">
    <div class="sec-h1">
      <h1 data-i18n="both1">تسوق معي</h1>
    </div>
  
    <div class="chat-container">
      <div class="chat-header">
        <div class="bot-avatar">
          <img src="bot-avatar.png" alt="Avatar">
        </div>
        <div class="bot-info">
          <span id="bot-name" data-i18n="botname">شوبو</span>
          <div class="bot-status">
            <span class="status-dot"></span>
            <span data-i18n="online">متصل الآن</span>
          </div>
        </div>
      </div>
      <div id="chatBox" class="chat-box">
      </div>
      <div class="chat-footer">
        <div class="input-wrapper">
          <div class="input-group">
          <button id="voice-btn" class="voice-btn">
            <i class="fas fa-microphone"></i>
          </button>
            <input type="text" id="userInput" class="chat-input" placeholder="كلمني . . ." 
            data-i18n-placeholder="chat_placeholder">
            <button id="send-btn" onclick="sendBotMessage()" class="send-btn">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </div>
        <div class="quick-suggestions"></div>
      </div>
    </div>
  </section>

  <section id="aboutSection" class="content-section about-section main-section">
    <div class="container">
      <div class="sec-h1">
        <h1 data-i18n="abouth1"> قصتنا </h1>
      </div>
      <div id="aboutContent">
       
      </div>
    </div>
  </section>

  <section id="faqSection" class="faq-section main-section">
    <div class="sec-h1">
      <h1 data-i18n="faqh1">سؤال و جواب</h1>
    </div>
    <div id="faqList">
     
    </div>
    <div id="answerBox" class="answer-container">
      <div class="answer-content" data-i18n="select_question" data-i18n="faqansr"></div>
    </div>
  </section>

  <section id="servicesSection" class="main-section">
    <div class="sec-h1">
      <h1 data-i18n="servicesh1">خدماتنا</h1>
    </div>
    <div id="servicesGrid" class="services-grid">
     
    </div>
  </section>

  <section id="contactSection" class="contact-section main-section">
    <div class="sec-h1">
      <h1 data-i18n="contacth1">تابعنا علي</h1>
    </div>
    <div id="contactGrid" class="contact-grid">
    </div>
  </section>

  <section id="quickContactSection" class="main-section">
    <div class="sec-h1">
      <h1 data-i18n="quickh1">خدمه العملاء</h1>
    </div>
    <form id="quickContactForm" class="quick-contact-form">
      <div class="form-group">
        <label for="qcName" data-i18n="quick_name_label">الاسم</label>
        <input type="text" id="qcName" placeholder="" data-i18n-placeholder="quick_name_placeholder" required>
      </div>
      <div class="form-group">
        <label for="qcContact" data-i18n="quick_contact_label">الرقم/الإيميل</label>
        <input type="text" id="qcContact" placeholder="" data-i18n-placeholder="quick_contact_placeholder" required>
      </div>
      <div class="form-group">
        <label for="qcMessage" data-i18n="quick_message_label">الرسالة</label>
        <textarea id="qcMessage" rows="4" placeholder="" data-i18n-placeholder="quick_message_placeholder" required> </textarea>
      </div>
      <div class="qc-buttons">
        <button type="button" id="qcSendWhatsapp">
          <span></span>
          <i aria-hidden="true"></i>
        </button>
        <button type="button" id="qcSendEmail"> 
          <span></span>
          <i aria-hidden="true"></i>
        </button>
      </div>
      <div id="qcUserMessageBox" class="message-box" aria-live="polite"></div>
    </form>
  </section>

  <section id="statsSection" class="main-section">
    <div class="sec-h1">
      <h1 data-i18n="statsh1">احصائياتنا</h1>
    </div>
    <div id="statsGrid" class="stats-grid">
    </div>
  </section>

  <section id="portfolioSection" class="main-section">
    <div class="search-container">
      <div class="search-box">
        <div class="search-input-group">
          <button id="voiceSearchBtn" class="voice-btn"><i class="fas fa-microphone"></i></button>
          <input type="text" id="searchName" placeholder=" بتدور علي ايه . . .">
          <button id="searchBtn" class="search-btn"><i class="fas fa-search"></i></button>
        </div>
  
        <div class="property-row">
          <label for="propertyType" data-i18n="type_label">قسم:</label>
          <select id="propertyType">
            <option data-i18n="all" value="all">الكل</option>
          </select>
        </div>
  
        <div class="price-row">
          <label for="priceValue" data-i18n="price">السعر:</label>
          <input type="number" id="priceValue" placeholder="جنيه" min="0">
          <select id="priceCondition" id="priceCondition">
            <option data-i18n="greater" value="greater">أكثر من</option>
            <option data-i18n="less"    value="less">أقل من</option>
          </select>
        </div>
      </div>
  
      <div id="portfolioGrid" class="portfolio-grid"></div>
    </div>
  </section>

<!-- Shopping Cart Icon -->
<div id="cart-icon-container">
  <i class="fas fa-shopping-bag"></i>
  <span id="cart-count">0</span>
</div>

<!-- Cart Popup -->
<div id="cart-popup" class="hidden">
  <div class="cart-header">
    <h3 data-i18n="cart_title">سلة المشتريات</h3>
    <button id="close-cart">&times;</button>
  </div>
  
  <div id="cart-items" class="cart-items">
    <!-- سيتم إضافة عناصر السلة هنا ديناميكياً -->
  </div>
  
  <div class="cart-footer">
    <div class="cart-total">
      <span data-i18n="cart_total">الإجمالي=</span>
      <span id="cart-total-price">0</span>
      <span data-i18n="dollar">جنيه</span>
    </div>
    <button id="checkout-btn" data-i18n="cart_checkout">تأكيد الطلب</button>
  </div>
</div>

<!-- Checkout Form Popup -->
<div id="checkout-form-popup" class="hidden">
  <div class="checkout-header">
    <h3 data-i18n="checkout_title">تأكيد الطلب</h3>
    <button id="close-checkout">&times;</button>
  </div>
  
  <form id="checkout-form">
    <div class="form-group">
      <label for="checkout-name" data-i18n="checkout_name">الاسم</label>
      <input type="text" id="checkout-name" required>
    </div>
    
    <div class="form-group">
      <label for="checkout-phone" data-i18n="checkout_phone">رقم الهاتف</label>
      <input type="tel" id="checkout-phone" required>
    </div>
    
    <div class="form-group">
      <label for="checkout-message" data-i18n="checkout_message">الرسالة (اختياري)</label>
      <textarea id="checkout-message" rows="3"></textarea>
    </div>
    
    <button type="submit" data-i18n="checkout_submit">إرسال الطلب</button>
  </form>
</div>

<div id="overlay" class="hidden"></div>

  <div id="global-toast" class="qc-toast"></div>
  
  <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js"></script>
  <script type="module" defer src="theme.js"></script>
  <script type="module" defer src="script.js"></script>

</body>
</html>